(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[135],{3442:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(98868).A)("Ship",[["path",{d:"M12 10.189V14",key:"1p8cqu"}],["path",{d:"M12 2v3",key:"qbqxhf"}],["path",{d:"M19 13V7a2 2 0 0 0-2-2H7a2 2 0 0 0-2 2v6",key:"qpkstq"}],["path",{d:"M19.38 20A11.6 11.6 0 0 0 21 14l-8.188-3.639a2 2 0 0 0-1.624 0L3 14a11.6 11.6 0 0 0 2.81 7.76",key:"7tigtc"}],["path",{d:"M2 21c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1s1.2 1 2.5 1c2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"1924j5"}]])},30161:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>x});var s=a(36362),l=a(39938),r=a(11249),c=a(35865),i=a(60833),d=a(72432),n=a(98868);let o=(0,n.A)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),h=(0,n.A)("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);var p=a(3442),u=a(93873),m=a(57480);function x(){let{data:e,status:t}=(0,r.useSession)(),a=(0,c.useRouter)(),[n,o]=(0,l.useState)(""),[h,p]=(0,l.useState)([]),[u,m]=(0,l.useState)(!1),[x,y]=(0,l.useState)("all");(0,l.useEffect)(()=>{"unauthenticated"===t?a.push("/"):"authenticated"===t&&e&&(0,i.O5)(e.accessToken)},[t,e,a]);let g=async()=>{if(n.trim()){m(!0);try{let e=await i.Ay.get("/search",{params:{q:n,type:x}}).catch(()=>({data:[{id:"1",type:"character",name:"John Doe",description:"Goonswarm Federation",meta:{kills:1234,losses:456}},{id:"2",type:"corporation",name:"Test Corporation",description:"Test Alliance",meta:{members:234}},{id:"3",type:"system",name:"M-OEE8",description:"Delve Region",meta:{security:-.7}}]}));p(e.data||[])}catch(e){console.error("Search failed:",e)}finally{m(!1)}}};return(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-3xl font-bold text-white mb-2",children:"Search"}),(0,s.jsx)("p",{className:"text-slate-400",children:"Search for characters, corporations, ships, and more"})]}),(0,s.jsxs)("div",{className:"bg-slate-800 rounded-lg p-6 border border-slate-700",children:[(0,s.jsxs)("div",{className:"flex gap-4 mb-4",children:[(0,s.jsxs)("div",{className:"flex-1 relative",children:[(0,s.jsx)(d.A,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 w-5 h-5 text-slate-400"}),(0,s.jsx)("input",{type:"text",value:n,onChange:e=>o(e.target.value),onKeyPress:e=>{"Enter"===e.key&&g()},placeholder:"Search for characters, corporations, systems...",className:"w-full pl-12 pr-4 py-3 bg-slate-700 border border-slate-600 rounded-lg text-white placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,s.jsx)("button",{onClick:g,disabled:u||!n.trim(),className:"px-6 py-3 bg-blue-600 hover:bg-blue-700 disabled:bg-blue-800 disabled:cursor-not-allowed text-white rounded-lg transition-colors font-medium",children:u?"Searching...":"Search"})]}),(0,s.jsx)("div",{className:"flex gap-2 flex-wrap",children:[{value:"all",label:"All"},{value:"character",label:"Characters"},{value:"corporation",label:"Corporations"},{value:"alliance",label:"Alliances"},{value:"ship",label:"Ships"},{value:"system",label:"Systems"}].map(e=>(0,s.jsx)("button",{onClick:()=>y(e.value),className:"px-3 py-1 rounded text-sm font-medium transition-colors ".concat(x===e.value?"bg-blue-600 text-white":"bg-slate-700 text-slate-300 hover:bg-slate-600"),children:e.label},e.value))})]}),h.length>0&&(0,s.jsxs)("div",{className:"bg-slate-800 rounded-lg p-6 border border-slate-700",children:[(0,s.jsxs)("h2",{className:"text-xl font-semibold text-white mb-4",children:["Search Results (",h.length,")"]}),(0,s.jsx)("div",{className:"space-y-3",children:h.map(e=>(0,s.jsx)(b,{result:e},e.id))})]}),0===h.length&&n&&!u&&(0,s.jsxs)("div",{className:"bg-slate-800 rounded-lg p-8 border border-slate-700 text-center text-slate-400",children:['No results found for "',n,'"']})]})}function b(e){let{result:t}=e,a={character:o,corporation:h,alliance:h,ship:p.A,killmail:u.A,system:m.A}[t.type];return(0,s.jsx)("div",{className:"bg-slate-700 rounded-lg p-4 border border-slate-600 hover:border-blue-500 transition-colors cursor-pointer",children:(0,s.jsxs)("div",{className:"flex items-start gap-4",children:[(0,s.jsx)("div",{className:"p-3 rounded-lg ".concat({character:"text-blue-400 bg-blue-500/20",corporation:"text-green-400 bg-green-500/20",alliance:"text-purple-400 bg-purple-500/20",ship:"text-orange-400 bg-orange-500/20",killmail:"text-red-400 bg-red-500/20",system:"text-yellow-400 bg-yellow-500/20"}[t.type]),children:(0,s.jsx)(a,{className:"w-6 h-6"})}),(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,s.jsx)("h3",{className:"text-white font-semibold",children:t.name}),(0,s.jsx)("span",{className:"px-2 py-0.5 bg-slate-600 rounded text-xs text-slate-300 capitalize",children:t.type})]}),t.description&&(0,s.jsx)("p",{className:"text-slate-400 text-sm mb-2",children:t.description}),t.meta&&(0,s.jsx)("div",{className:"flex gap-4 text-xs text-slate-400",children:Object.entries(t.meta).map(e=>{let[t,a]=e;return(0,s.jsxs)("span",{children:[(0,s.jsx)("span",{className:"capitalize",children:t}),": ",a]},t)})})]})]})})}},57480:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(98868).A)("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]])},60833:(e,t,a)=>{"use strict";a.d(t,{Ay:()=>r,O5:()=>l});let s=a(53396).A.create({baseURL:"http://localhost:30006",headers:{"Content-Type":"application/json"}}),l=e=>{e?s.defaults.headers.common.Authorization="Bearer ".concat(e):delete s.defaults.headers.common.Authorization},r=s},72258:(e,t,a)=>{Promise.resolve().then(a.bind(a,30161))},72432:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(98868).A)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]])},93873:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(98868).A)("Skull",[["path",{d:"m12.5 17-.5-1-.5 1h1z",key:"3me087"}],["path",{d:"M15 22a1 1 0 0 0 1-1v-1a2 2 0 0 0 1.56-3.25 8 8 0 1 0-11.12 0A2 2 0 0 0 8 20v1a1 1 0 0 0 1 1z",key:"1o5pge"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}]])}},e=>{e.O(0,[249,139,991,678,358],()=>e(e.s=72258)),_N_E=e.O()}]);